<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- saved from url=(0043)https://so.m.jd.com/solocalocalstorage.html -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=GBK">

<title></title>
<script type="text/javascript">  
(function(){  
	var hasStorage = window.localStorage ? true : false;
	if(hasStorage){
		try{
			window.localStorage.setItem('M_test',1);
		}catch (e) {
			hasStorage = false;
		}
		try{
			window.localStorage.getItem('M_test');
		}catch (e) {
			hasStorage = false;
		}
		try{
			window.localStorage.removeItem('M_test');
		}catch (e) {
			hasStorage = false;
		}
	}
    function handleRequest(event){
		if(hasStorage){
	        try{
	        	var data = JSON.parse(event.data);  
	            var storage = window.localStorage;
	            if(data.op === 'W'){ //写操作  
	                storage.setItem(data.key,data.value);  
	                event.source.postMessage(event.data, event.origin);  
	            }else if(data.op === 'D'){ //删除  
	                storage.removeItem(data.key);  
	                event.source.postMessage(event.data, event.origin);  
	            }else if(data.op === 'X'){ //清空  
	                storage.clear();  
	                event.source.postMessage(event.data, event.origin);  
	            }else if(data.op === 'R'){//默认：读操作  
	                var value = storage.getItem(data.key);
	                event.source.postMessage(JSON.stringify({id: data.id, key:data.key, value: value}), event.origin);  
	            }
	        }catch(e){  
	            event.source.postMessage(event.data, event.origin);  
	        }
		}else{
			if(data.op === 'W'){ //写操作  
                event.source.postMessage(event.data, event.origin);  
            }else if(data.op === 'D'){ //删除  
                event.source.postMessage(event.data, event.origin);  
            }else if(data.op === 'X'){ //清空  
                event.source.postMessage(event.data, event.origin);  
            }else if(data.op === 'R'){//默认：读操作  
                var value = null
                event.source.postMessage(JSON.stringify({id: data.id, key:data.key, value: value}), event.origin);  
            }
		}
    }
  
    if(window.addEventListener){  
        window.addEventListener("message", handleRequest, false);  
    } else if (window.attachEvent){  
        window.attachEvent("onmessage", handleRequest);  
    }  
})();  
</script>  
<style>#haloword-pron { background: url(chrome-extension://bhkcehpnnlgncpnefpanachijmhikocj/img/icon.svg) -94px -34px; }#haloword-pron:hover { background: url(chrome-extension://bhkcehpnnlgncpnefpanachijmhikocj/img/icon.svg) -111px -34px; }#haloword-open { background: url(chrome-extension://bhkcehpnnlgncpnefpanachijmhikocj/img/icon.svg) -94px -17px; }#haloword-open:hover { background: url(chrome-extension://bhkcehpnnlgncpnefpanachijmhikocj/img/icon.svg) -111px -17px; }#haloword-close { background: url(chrome-extension://bhkcehpnnlgncpnefpanachijmhikocj/img/icon.svg) -94px 0; }#haloword-close:hover { background: url(chrome-extension://bhkcehpnnlgncpnefpanachijmhikocj/img/icon.svg) -111px 0; }#haloword-add { background: url(chrome-extension://bhkcehpnnlgncpnefpanachijmhikocj/img/icon.svg) -94px -51px; }#haloword-add:hover { background: url(chrome-extension://bhkcehpnnlgncpnefpanachijmhikocj/img/icon.svg) -111px -51px; }#haloword-remove { background: url(chrome-extension://bhkcehpnnlgncpnefpanachijmhikocj/img/icon.svg) -94px -68px; }#haloword-remove:hover { background: url(chrome-extension://bhkcehpnnlgncpnefpanachijmhikocj/img/icon.svg) -111px -68px; }</style></head>
<body>


<div id="haloword-lookup" class="ui-widget-content ui-draggable"><div id="haloword-title"><span id="haloword-word"></span><a herf="#" id="haloword-pron" class="haloword-button" title="发音"></a><audio id="haloword-audio"></audio><div id="haloword-control-container"><a herf="#" id="haloword-add" class="haloword-button" title="加入单词表"></a><a herf="#" id="haloword-remove" class="haloword-button" title="移出单词表"></a><a href="https://so.m.jd.com/solocalocalstorage.html#" id="haloword-open" class="haloword-button" title="查看单词详细释义" target="_blank"></a><a herf="#" id="haloword-close" class="haloword-button" title="关闭查询窗"></a></div><br style="clear: both;"></div><div id="haloword-content"></div></div></body></html>